# General
set editor="vim"

set from = $MUTT_EMAIL_ADDR
set realname = $MUTT_NAME

# Imap settings
set imap_user = $MUTT_EMAIL_ADDR
set imap_pass = $MUTT_PWD

# Smtp settings
set smtp_url = $MUTT_SMTP
set smtp_pass = $MUTT_PWD

# Remote gmail folders
set folder = $MUTT_FOLDER

# Purge deleted messages without asking
set delete = yes

# Mark all unread mail as new (N)
set mark_old=no

# Local folders
set spoolfile = "~/.mutt/"$MUTT_USER"/inbox"
set postponed = "~/.mutt/"$MUTT_USER"/\[Gmail\]/Drafts"
set trash = "~/.mutt/"$MUTT_USER"/\[Gmail\]/Trash"

# Disable record because gmail does this automatically
unset record

# Do not add + for lines that wrap
unset markers

# Keybindings when navigating emails
bind pager <up> previous-line
bind pager <down> next-line

# Source dracula color scheme
source ~/dracula/mutt/dracula.muttrc

# Where my email aliases are stored
source "$HOME/.mutt/address_book"

# Macro to sync the current mailbox
macro index S "!mbsync -a -c ~/.mutt/"$MUTT_USER"/.mbsyncrc<enter>"

# Unset wait key to avoid getting prompt after running macros
# https://mutt-users.mutt.narkive.com/GUGOK2Xl/pipe-message-without-the-press-any-key-to-continue
unset wait_key

# Sort by threads then by latest message datetime
# https://www.edwinwenink.xyz/posts/16-mutt-threads/
set sort = threads
set sort_aux = last-date-received
